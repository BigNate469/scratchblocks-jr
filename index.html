<!DOCTYPE html>
<html>
  <head>
    <style>
      div {
        margin: 0;
        padding: 0;
        display: flex;
      }
      #blocks img {
        margin: 0;
        padding: 0;
        position: relative;
      }
    </style>
  </head>
  <body>
    <textarea id="input"></textarea>
    <div id="blocks"></div>
    <script>
      const el = document.getElementById('blocks');
      let elList = el.children;
      const text = document.getElementById('input');
      text.addEventListener('change', () => {
        while (el.firstChild) {
          el.removeChild(el.firstChild);
        }
        let lines = text.value.split('\n');
        for(let i = 0; i < lines.length; i++) {
          if(lines[i] === '') {
            continue;
          };
          let img = document.createElement('img');
          switch (lines[i]) {
            case 'control':
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/flow.svg';
              img.dataset.type = 'stack';
              break;
            case 'looks':
            case 'look':
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/looks.svg';
              img.dataset.type = 'stack';
              break;
            case 'sound':
            case 'sounds':
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/sounds.svg';
              img.dataset.type = 'stack';
              break;
            case 'events':
            case 'event':
            case 'trigger':
            case 'triggering':
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/yellowCmd.svg';
              img.dataset.type = 'stack';
              break;
            case 'motion':
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/blueCmd.svg';
              img.dataset.type = 'stack';
              break;
            case 'end':
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/endshort.svg';
              img.dataset.type = 'stack';
              break;
            case 'hat':
              img.src = './start.svg';
              img.dataset.type = 'hat';
            default:
              img.src = 'https://raw.githubusercontent.com/scratchfoundation/scratchjr/refs/heads/develop/editions/free/src/assets/blocks/caretcmd.svg';
              img.dataset.type = 'stack';
          };
          el.appendChild(img);
        };
        reformat();
      });
      function reformat() {
        for(let i = 0; i < elList.length; i++) {
          switch (elList[i].dataset.type) {
            case 'stack':
              elList[i].style.left = (i * (0 - 11) + 'px');
              break;
            case 'hat':
              elList[i].style.left = (i * (0 - 20) + 'px');
              break;
          }
        };
      };
    </script>
  </body>
</html>
